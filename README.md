Moodle-плагин для открытия материалов в зависимости от даты регистрации на курс
=========================

# Описание плагина 
Плагин позволяет управлять доступом к материалам курса в Moodle в зависимости от даты регистрации пользователя на курс
Работает для версии Moodle 3.9 

# Основые функции плагина
Плагин предоставляет возможность индивидуальной настройки доступа для курса и общей настройки для всех курсов

## Индивидуальная настройка курса содержит два поля
* **Задержка дней до возможности самостоятельной регистрации в зависимости от даты регистрации пользователя на сайте**  
* **Задержка дней до открытия тем курса в зависимости от даты регистрации пользователя на курс**  

### Задержка до возможности самостоятельной регистрации
Это позволяет  открывать возможность самостоятельной регистрации в курсах пользователям через *N дней* после регистрации пользователя на сайте.
Для того, чтобы её использовать следует каждому курсу создать дополнительное поле типа *короткий текст* с кратким именем *self_enrolment_delay*.

![image](https://github.com/user-attachments/assets/76cd4344-c7a0-4204-88b4-6ade6be72147)

### Задержка дней для тем персонально
Возможность открывать материалы определнной темы через *N дней* после самостоятельной регистрации пользователя на курс. Настраивается дла каждой темы отдельно

![image](https://github.com/user-attachments/assets/97f793f4-84dd-4bba-b8cc-2faee2191d1b)



## Общая настройка плагина содержит два поля

* **Задержка дней для курсов**  
* **Задержка дней для тем**

### Задержка дней для курсов  
После того как администратор зачислил пользователя на курс, должно пройти *n* дней, после чего у пользователя появится доступ к курсу.


### Задержка дней для тем по умолчанию (!)
После того как у пользователя появился доступ к курсу, у него открывается первая тема (модуль). Далее спустя количество дней, указанных в настройках каждой темы курса формата *Секции по темам (с задержкой)* дней открывается вторая тема, и так далее. Если задержка для тем активирована, а у темы не указана задержка - по-умолчанию используется значение данной настройки.

![image](https://github.com/user-attachments/assets/6c0a2258-539d-4a63-86bf-75ee3b42873c)
Форма общей настройки ограничений плагина


# Как установить плагин

1. Скачайте ZIP-архив кода плагина.  
2. Распакуйте архив и поместите содержимое в папку с названием `open_courses_and_materials_individually`.  
3. Поместите папку `open_courses_and_materials_individually` в директорию:  
   `Moodle\server\moodle\local`

# Как пользоваться плагином
### Индивидуальная настройка и общая настойка
**ВАЖНО!** При применении индивидуальной настройки плагина к курсу, общая настройка перестанет действовать 

### Задрежка до возможности самостоятельной регистрации пользователя на курс
Чтобы была возможность добавить ограничение на самостоятельную регистрацию пользователя на курс, в зависимости от даты регистрации нужно в Администрирование > Курсы > Пользовательские поля курса > Добавить новую категорию > Добавить новое пользовательское поле > Короткий текст и в кратком имени вписать self_enrolment_delay и в Общие настройки пользовательских полей курса > Видно > выбрать Преподавателям

![image](https://github.com/user-attachments/assets/af1a22aa-d319-4923-994b-202ce884d71d)
![image](https://github.com/user-attachments/assets/bc88698b-6ae8-49da-8bed-92b896503b17)
![image](https://github.com/user-attachments/assets/6ee35f1c-460c-4a55-821c-98e535716bc2)
![image](https://github.com/user-attachments/assets/ff60cf9d-1dcc-4b8d-aba5-f93017100400)

### Индивидуальная настройка задержки 
Чтобы появилась настройка для индивидуальной задержки тем нужно в настройках курса выбрать блок Формат курса и выбрать Секции по темам (с задержкой)

![image](https://github.com/user-attachments/assets/51736a51-a3bb-42c1-9a0d-13b684f81b80)
![image](https://github.com/user-attachments/assets/0e07f558-9e3c-4755-bfac-d57c7c8b935a)


### Задержка дней для курсов  
**ВАЖНО!** После записи пользователя на курс настройку для дней доступа к курсу изменить нельзя.  

1. В настройках плагина введите количество дней, через которое у пользователя должен появиться доступ к курсу.  
2. Добавьте пользователя на курс.  

### Задержка дней для тем  
**ВАЖНО!** Устанавливать настройки для тем необходимо **перед** зачислением пользователя на курс.  

1. В настройках плагина введите количество дней.  
2. Добавьте пользователя на курс. 
